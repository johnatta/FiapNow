<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<f:loadBundle var="msgs" basename="nls.mensagem" />
	<h:head>
		<title>Encontro Esportivo</title>
		<h:outputStylesheet name="index.css" library="css" />
		<style>
			body {background: #FFF;}
		</style>
		<meta http-equiv="Pragma" content="no-cache" />
	</h:head>
	
	<h:body>
		<p:growl life="3000" />
    
		<div id="main_container">
			<div id="header">
				<div id="content_header">
					<div id="header_menu">
						<a href="index.xhtml"><div id="header_itemMenu">
							Encontro Esportivo
						</div></a>
					</div>
					<div id="header_lang">
						<h:form>
							<h:commandLink action="#{loginBean.changePortuguese()}" styleClass="header_flag">
								<h:graphicImage name="brazil.png" library="images" />
							</h:commandLink>
							<h:commandLink action="#{loginBean.changeEnglish()}" styleClass="header_flag">
								<h:graphicImage name="usa_uk.png" library="images"/>
							</h:commandLink>
						</h:form>
					</div>
					<br style="clear:both;" />
				</div>
			</div>
            
		<div id="main_content">
				
			<h1>Cadastrar Perfil</h1>
		
			<h:form>
				<p:growl id="messages" showDetail="true" />
				<h:messages ></h:messages>
				<h:panelGrid columns="2">
				<h:outputText value="Nome: " />
				<p:inputText value="#{criacaoPerfilBean.pessoa.nome}" />
				
				<h:outputText value="Sobrenome: " />
				<p:inputText value="#{criacaoPerfilBean.pessoa.sobrenome}" />
				
				<h:outputText value="Apelido: " />
				<p:inputText value="#{criacaoPerfilBean.pessoa.apelido}" />
				
				<h:outputText value="Usuário: " />
				<p:inputText value="#{criacaoPerfilBean.usuario.email}" />
				
				<h:outputText value="Senha: " />
				<p:password value="#{criacaoPerfilBean.usuario.senha}" feedback="true" />
				
				<h:outputText value="#{msgs.image}" />
				<p:fileUpload
					fileUploadListener="#{criacaoPerfilBean.realizarUpload}"
					required="true" mode="advanced" update="messages"
					sizeLimit="1000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/"
					auto="false" dragDropSupport="false" label="Select" />
				
				
				<h:outputText value="Data de Nascimento:" />
				<p:calendar value="#{criacaoPerfilBean.dtNasc}" pattern="dd/MM/yyyy" />
				
				<h:outputText value="Categoria: " />
				
				<p:dataTable id="multiCars" var="e" value="#{criacaoPerfilBean.edm}"
						selection="#{criacaoPerfilBean.esportesSelecionados}">
						<f:facet name="header">#{msgs.select_sports}</f:facet>
						<p:column selectionMode="multiple" style="width:1%" />
						<p:column headerText="#{msgs.sport}" style="width:25%">  #{e.nome} </p:column>
				</p:dataTable>
				
				<h:outputText value="Telefone: " />
				<p:inputText value="#{criacaoPerfilBean.pessoa.telRes}" />
				
				<h:outputText value="Celular: " />
				<p:inputText value="#{criacaoPerfilBean.pessoa.cel}" />
				
				<h:outputText value="Cep:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.cep}" ></p:inputText>
				<p:commandButton type="submit" value="Buscar CEP" action="#{criacaoPerfilBean.buscarCep}" ajax="false" />
				<div />
				
				<h:outputText value="Pais:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.pais}" />
				<h:outputText value="Estado:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.estado}" />
				<h:outputText value="Cidade:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.cidade}" />
				<h:outputText value="Bairro:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.bairro}" />
				<h:outputText value="Rua:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.rua}" />
				<h:outputText value="Número:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.numero}" />
				<h:outputText value="Complemento:" />
				<p:inputText value="#{criacaoPerfilBean.endereco.complemento}" />
				
			</h:panelGrid>
			
			<p:commandButton ajax="false" value="Cadastrar" action="#{criacaoPerfilBean.cadastrar}" style="margin-bottom:40px;" />
		
		</h:form>				
			
	</div>

			<div id="footer">
                <ui:insert name="footer">
				<div id="footer_content">
					Javax Solutions
				</div>
                </ui:insert>
			</div>
		</div>
        
	</h:body>
	
</html>