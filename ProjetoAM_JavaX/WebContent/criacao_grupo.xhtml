<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<ui:composition template="/_templateEE.xhtml">
	<ui:define name="main_content">
		<h2>Cadastro Grupo</h2>
		<h:panelGrid columns="2">
			<h:form enctype="multipart/form-data">
			</h:form>
		</h:panelGrid>
		<h:form>
			<p:growl id="messages" showDetail="true" />
			<p:wizard flowListener="#{criacaoGrupoBean.onFlowProcess}">

				<p:tab id="grupo" title="Informação Grupo">
					<p:panel header="Informação Grupo">
						<h:messages errorClass="error" />
						<h:panelGrid columns="2" columnClasses="label, value"
							styleClass="grid">
							<h:outputText value="criacaoGrupoBean.grupo.foto" />
							<p:fileUpload
								fileUploadListener="#{criacaoGrupoBean.realizarUpload}"
								mode="advanced" update="messages" sizeLimit="100000"
								allowTypes="/(\.|\/)(gif|jpe?g|png)$/" auto="false"
								dragDropSupport="false" label="Select" />

							<h:outputText value="Nome:"></h:outputText>
							<p:inputText value="#{criacaoGrupoBean.grupo.nomeGrupo}"
								required="true" maxlength="50" size="48" />

							<h:outputText value="Descrição:"></h:outputText>
							<p:inputTextarea value="#{criacaoGrupoBean.grupo.descricao}"
								required="true" rows="5" cols="48" counter="counter"
								maxlength="300" counterTemplate="Máximo de 300 caracteres.">
							</p:inputTextarea>
							<br></br>
							<h:outputText id="counter" />

							<h:outputText value="Privacidade:"></h:outputText>

							<p:selectOneMenu effect="fade"
								value="#{criacaoGrupoBean.grupo.privacidade}">
								<f:selectItem itemLabel="Selecione" itemValue=""
									noSelectionOption="true"></f:selectItem>
								<f:selectItems value="#{criacaoGrupoBean.privs}" var="p"
									itemLabel="#{p}" itemValue="#{p}" required="true" />
							</p:selectOneMenu>

							<h:outputText value="Esporte: " />
							<p:dataTable id="multiCars" var="e"
								value="#{criacaoGrupoBean.edm}"
								selection="#{criacaoGrupoBean.espSelecionados}">

								<f:facet name="header"> Selecione os esportes</f:facet>
								<p:column selectionMode="multiple" style="width:2%" />
								<p:column headerText="Nome" style="width:25%">  #{e.nome} </p:column>
							</p:dataTable>

						</h:panelGrid>
						<p:commandButton ajax="false" type="submit" value="Criar Grupo"
							id="btnCadastrarCliente" icon="ui-icon-check"
							action="#{criacaoGrupoBean.btnCriarGrupo}" style="margin:0">
						</p:commandButton>
					</p:panel>
				</p:tab>
				<p:tab id="pessoa" title="Adicionar Pessoa">
					<p:panel header="Adicionar Pessoa">
						<h:messages errorClass="error" />
						<h:panelGrid columns="2" columnClasses="label, value">
							<h:outputText value="Pessoa: " />
							<p:dataTable id="multiCars" var="e"	value="#{criacaoGrupoBean.edm}"	selection="#{criacaoGrupoBean.espSelecionados}">
								<f:facet name="header"> Selecione as pessoas</f:facet>
								<p:column selectionMode="multiple" style="width:2%" />
								<p:column headerText="Nome" style="width:25%">  #{e.nome} </p:column>
							</p:dataTable>
							<h:outputText value="Pular para o final: " />
							<h:selectBooleanCheckbox value="#{criacaoGrupoBean.skip}" />
						</h:panelGrid>
					</p:panel>
				</p:tab>
			</p:wizard>
		</h:form>
	</ui:define>
</ui:composition>
</html>